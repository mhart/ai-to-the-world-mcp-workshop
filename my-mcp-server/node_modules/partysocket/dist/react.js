"use strict";
Object.defineProperty(exports, "__esModule", { value: true });

var _chunk5XUHNIY2js = require("./chunk-5XUHNIY2.js");

var _chunkLREFFSFPjs = require("./chunk-LREFFSFP.js");
require("./chunk-2ESZ2MDZ.js");

// src/react.ts
function usePartySocket(options) {
  const { host, ...otherOptions } = options;
  const socket = _chunkLREFFSFPjs.useStableSocket.call(void 0, {
    options: {
      host:
        host ||
        (typeof window !== "undefined"
          ? window.location.host
          : "dummy-domain.com"),
      ...otherOptions
    },
    createSocket: (options2) => new (0, _chunk5XUHNIY2js.PartySocket)(options2),
    createSocketMemoKey: (options2) =>
      JSON.stringify([
        // NOTE: if query is defined as a function, the socket
        // won't reconnect when you change the function identity
        options2.query,
        options2.id,
        options2.host,
        options2.room,
        options2.party,
        options2.path,
        options2.protocol,
        options2.protocols,
        options2.basePath,
        options2.prefix,
        ..._chunkLREFFSFPjs.getOptionsThatShouldCauseRestartWhenChanged.call(
          void 0,
          options2
        )
      ])
  });
  _chunkLREFFSFPjs.useAttachWebSocketEventHandlers.call(
    void 0,
    socket,
    options
  );
  return socket;
}

exports.default = usePartySocket;
exports.usePartySocket = usePartySocket;
exports.useWebSocket = _chunkLREFFSFPjs.useWebSocket;
//# sourceMappingURL=react.js.map
